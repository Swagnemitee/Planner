(this.webpackJsonpplanner=this.webpackJsonpplanner||[]).push([[0],{22:function(e,t,s){},23:function(e,t,s){},24:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var a,n=s(1),c=s.n(n),i=s(7),r=s.n(i),d=(s(22),s(3)),l=s(11),j=s(15),o=s(12),u=s.n(o);s(23);!function(e){e.NEVER="never",e.DAY="day",e.WEEK="week",e.MONTH="month"}(a||(a={}));var b=s(2),O=(s(24),s(4)),m=(s(6),s(0)),v={name:""};function p(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setAddGroup,i=e.saveMemento,r=function(){c(!1)},l=Object(n.useState)(v),j=Object(d.a)(l,2),o=j[0],u=j[1];return Object(m.jsxs)("div",{className:"Add",children:[Object(m.jsx)("div",{className:"Add-bg",onClick:r}),Object(m.jsxs)("div",{className:"Add-main",children:[Object(m.jsx)("div",{className:"Add-main-inputs",children:Object(m.jsxs)("div",{className:"Add-main-inputs-name",children:[Object(m.jsx)("label",{children:"Group Name"}),Object(m.jsx)("input",{type:"text",value:o.name,onChange:function(e){return t="name",s=e.target.value,void u(Object(b.a)(Object(b.a)({},o),{},Object(O.a)({},t,s)));var t,s}})]})}),Object(m.jsxs)("div",{className:"Add-main-buttons",children:[Object(m.jsx)("h3",{onClick:r,children:"Cancel"}),Object(m.jsx)("h3",{onClick:function(){i();var e=Object(b.a)({},t),n=(e.nextID++).toString(),c=Object(b.a)(Object(b.a)({},o),{},{id:n,listIDs:[]});e.groups[n]=c,e.groupIDs.push(n),s(Object(b.a)({},e)),u(v),a(),r()},children:"Create"})]})]})]})}function x(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.mementos,i=e.setMementos,r=e.mementoIndex,j=e.setMementoIndex,o=e.saveMemento,u=function(){return 0===r},O=function(){return r>=c.length-1},v=Object(n.useState)(!1),x=Object(d.a)(v,2),h=x[0],f=x[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("img",{src:"icons/undo.png",alt:"Undo",className:u()?"disabled":"",onClick:function(){if(!u()){var e=Object(l.a)(c);void 0===e[r]&&(e[r]=JSON.stringify(t),i(e));var n=r-1,d=JSON.parse(c[n]);s(Object(b.a)({},d)),j(n),a()}}}),Object(m.jsx)("img",{src:"icons/redo.png",alt:"Redo",className:O()?"disabled":"",onClick:function(){if(!O()){var e=r+1,t=JSON.parse(c[e]);s(Object(b.a)({},t)),j(e),a()}}}),Object(m.jsx)("img",{src:"icons/add.png",alt:"Add",onClick:function(){return f(!0)}})]}),h&&Object(m.jsx)(p,{userState:t,setUserState:s,saveData:a,setAddGroup:f,saveMemento:o})]})}s(26);var h=s(5);s(27),s(28),s(29);function f(e){var t=e.userState,s=e.setUserState,a=e.task,n=e.index,c=e.saveData,i=e.setEditTask,r=e.setSelectedID,d=e.parentID,l=e.setSelectedParentID;return Object(m.jsx)(h.b,{draggableId:a.id,index:n,children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:"Task"+(a.count<=a.done?" completed":""),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(m.jsx)("p",{onClick:function(){i(!0),r(a.id),l(d)},children:a.name}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsxs)("p",{onClick:function(){return function(e){var a=Object(b.a)({},t),n=a.tasks[e].done;a.tasks[e].count<=n||(a.tasks[e].done++,s(a),c())}(a.id)},children:[a.done,"/",a.count]})]}))}})}function g(e){var t=e.userState,s=e.setUserState,a=e.list,n=e.listIndex,c=e.saveData,i=e.setAddTask,r=e.setEditList,d=e.setSelectedID,l=e.setEditTask,j=e.parentID,o=e.setSelectedParentID;return Object(m.jsx)(h.b,{draggableId:a.id,index:n,children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskList",ref:e.innerRef},e.draggableProps),{},{children:[Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskList-title"},e.dragHandleProps),{},{children:[Object(m.jsx)("h3",{children:a.name}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsx)("img",{src:"icons/add.png",alt:"Add",onClick:function(){i(!0),d(a.id)}}),Object(m.jsx)("img",{src:"icons/more.png",alt:"More",onClick:function(){r(!0),d(a.id),o(j)}})]})),Object(m.jsx)(h.c,{droppableId:a.id,type:"task",children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"Task-wrapper",ref:e.innerRef},e.droppableProps),{},{children:[a.taskIDs.map((function(e,n){return Object(m.jsx)(f,{userState:t,setUserState:s,saveData:c,setSelectedID:d,setEditTask:l,setSelectedParentID:o,parentID:a.id,task:t.tasks[e],index:n},e)})),e.placeholder]}))}})]}))}})}function D(e){var t=e.userState,s=e.setUserState,a=e.group,n=e.groupIndex,c=e.saveData,i=e.setAddList,r=e.setEditGroup,d=e.setSelectedID,l=e.setAddTask,j=e.setEditList,o=e.setEditTask,u=e.setSelectedParentID;return Object(m.jsx)(h.b,{draggableId:a.id,index:n,children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskGroup"},e.draggableProps),{},{ref:e.innerRef,children:[Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskGroup-title"},e.dragHandleProps),{},{children:[Object(m.jsx)("h2",{children:a.name}),Object(m.jsx)("div",{className:"divider"}),Object(m.jsx)("img",{src:"icons/add.png",alt:"Add",onClick:function(){i(!0),d(a.id)}}),Object(m.jsx)("img",{src:"icons/more.png",alt:"More",onClick:function(){r(!0),d(a.id)}})]})),Object(m.jsx)(h.c,{droppableId:a.id,type:"list",children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskList-wrapper",ref:e.innerRef},e.droppableProps),{},{children:[a.listIDs.map((function(e,n){return Object(m.jsx)(g,{userState:t,setUserState:s,saveData:c,setSelectedID:d,setEditList:j,setAddTask:l,setEditTask:o,setSelectedParentID:u,parentID:a.id,list:t.lists[e],listIndex:n},e)})),e.placeholder]}))}})]}))}})}var k={name:"",reset:a.NEVER};function S(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setAddList,i=e.groupID,r=e.saveMemento,l=function(){c(!1)},j=function(e,t){p(Object(b.a)(Object(b.a)({},v),{},Object(O.a)({},e,t)))},o=Object(n.useState)(k),u=Object(d.a)(o,2),v=u[0],p=u[1];return Object(m.jsxs)("div",{className:"Add",children:[Object(m.jsx)("div",{className:"Add-bg",onClick:l}),Object(m.jsxs)("div",{className:"Add-main",children:[Object(m.jsxs)("div",{className:"Add-main-inputs",children:[Object(m.jsxs)("div",{className:"Add-main-inputs-name",children:[Object(m.jsx)("label",{children:"List Name"}),Object(m.jsx)("input",{type:"text",value:v.name,onChange:function(e){return j("name",e.target.value)}})]}),Object(m.jsxs)("div",{className:"Add-main-inputs-reset",children:[Object(m.jsx)("label",{children:"Resets"}),Object(m.jsxs)("select",{value:v.reset,onChange:function(e){return j("reset",e.target.value)},children:[Object(m.jsx)("option",{value:"never",children:"Never"}),Object(m.jsx)("option",{value:"day",children:"Daily"}),Object(m.jsx)("option",{value:"week",children:"Weekly"}),Object(m.jsx)("option",{value:"month",children:"Monthly"})]})]})]}),Object(m.jsxs)("div",{className:"Add-main-buttons",children:[Object(m.jsx)("h3",{onClick:l,children:"Cancel"}),Object(m.jsx)("h3",{onClick:function(){r();var e=Object(b.a)({},t),n=(e.nextID++).toString(),c=Object(b.a)(Object(b.a)({},v),{},{id:n,taskIDs:[]});e.lists[n]=c,e.groups[i].listIDs.push(n),s(Object(b.a)({},e)),p(k),a(),l()},children:"Create"})]})]})]})}var I={name:"",count:1};function N(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setAddTask,i=e.listID,r=e.saveMemento,l=function(){c(!1)},j=function(e,t){p(Object(b.a)(Object(b.a)({},v),{},Object(O.a)({},e,t)))},o=Object(n.useState)(I),u=Object(d.a)(o,2),v=u[0],p=u[1];return Object(m.jsxs)("div",{className:"Add",children:[Object(m.jsx)("div",{className:"Add-bg",onClick:l}),Object(m.jsxs)("div",{className:"Add-main",children:[Object(m.jsxs)("div",{className:"Add-main-inputs",children:[Object(m.jsxs)("div",{className:"Add-main-inputs-name",children:[Object(m.jsx)("label",{children:"Task Name"}),Object(m.jsx)("input",{type:"text",value:v.name,onChange:function(e){return j("name",e.target.value)}})]}),Object(m.jsxs)("div",{className:"Add-main-inputs-count",children:[Object(m.jsx)("label",{children:"Repeat"}),Object(m.jsx)("input",{type:"number",value:v.count,onChange:function(e){return j("count",e.target.value.replace(/\D/,""))}})]})]}),Object(m.jsxs)("div",{className:"Add-main-buttons",children:[Object(m.jsx)("h3",{onClick:l,children:"Cancel"}),Object(m.jsx)("h3",{onClick:function(){r();var e=Object(b.a)({},t),n=(e.nextID++).toString(),c=Object(b.a)(Object(b.a)({},v),{},{id:n,done:0});e.tasks[n]=c,e.lists[i].taskIDs.push(n),s(Object(b.a)({},e)),p(I),a(),l()},children:"Create"})]})]})]})}var E=s(9),C=s.n(E);function A(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setEditTask,i=e.taskID,r=e.listID,l=e.saveMemento,j=function(){c(!1)},o=function(e,t){x(Object(b.a)(Object(b.a)({},p),{},Object(O.a)({},e,t)))},u=Object(n.useState)(t.tasks[i]),v=Object(d.a)(u,2),p=v[0],x=v[1];return Object(m.jsxs)("div",{className:"Edit",children:[Object(m.jsx)("div",{className:"Edit-bg",onClick:j}),Object(m.jsxs)("div",{className:"Edit-main",children:[Object(m.jsxs)("div",{className:"Edit-main-inputs",children:[Object(m.jsxs)("div",{className:"Edit-main-inputs-name",children:[Object(m.jsx)("label",{children:"Task Name"}),Object(m.jsx)("input",{type:"text",value:p.name,onChange:function(e){return o("name",e.target.value)}})]}),Object(m.jsxs)("div",{className:"Edit-main-inputs-count",children:[Object(m.jsx)("label",{children:"Repeat"}),Object(m.jsx)("input",{type:"number",value:p.count,onChange:function(e){return o("count",parseInt(e.target.value.replace(/\D/,"")))}})]}),Object(m.jsxs)("div",{className:"Add-main-inputs-done",children:[Object(m.jsx)("label",{children:"Done"}),Object(m.jsx)("input",{type:"number",value:p.done,onChange:function(e){return o("done",parseInt(e.target.value.replace(/\D/,"")))}})]})]}),Object(m.jsxs)("div",{className:"Edit-main-buttons",children:[Object(m.jsx)("h3",{onClick:j,children:"Cancel"}),Object(m.jsx)("h3",{className:"Edit-main-buttons-delete",onClick:function(){l();var e=Object(b.a)({},t),n=e.lists[r];n.taskIDs.splice(n.taskIDs.indexOf(i),1),delete e.tasks[i],s(Object(b.a)({},e)),a(),j()},children:"Delete"}),Object(m.jsx)("h3",{onClick:function(){var e=t.tasks[i],n=Object(b.a)(Object(b.a)({},e),p);if(C.a.isEqual(e,n))j();else{l();var c=Object(b.a)({},t);c.tasks[i]=n,s(Object(b.a)({},c)),a(),j()}},children:"Save"})]})]})]})}function y(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setEditGroup,i=e.groupID,r=e.saveMemento,l=function(){c(!1)},j=Object(n.useState)(t.groups[i]),o=Object(d.a)(j,2),u=o[0],v=o[1];return Object(m.jsxs)("div",{className:"Edit",children:[Object(m.jsx)("div",{className:"Edit-bg",onClick:l}),Object(m.jsxs)("div",{className:"Edit-main",children:[Object(m.jsx)("div",{className:"Edit-main-inputs",children:Object(m.jsxs)("div",{className:"Edit-main-inputs-name",children:[Object(m.jsx)("label",{children:"Group Name"}),Object(m.jsx)("input",{type:"text",value:u.name,onChange:function(e){return t="name",s=e.target.value,void v(Object(b.a)(Object(b.a)({},u),{},Object(O.a)({},t,s)));var t,s}})]})}),Object(m.jsxs)("div",{className:"Edit-main-buttons",children:[Object(m.jsx)("h3",{onClick:l,children:"Cancel"}),Object(m.jsx)("h3",{className:"Edit-main-buttons-delete",onClick:function(){r();var e=Object(b.a)({},t),n=e.groups[i].listIDs,c=n.flatMap((function(t){return e.lists[t].taskIDs}));e.groupIDs.splice(e.groupIDs.indexOf(i),1),delete e.groups[i],n.forEach((function(t){delete e.lists[t]})),c.forEach((function(t){delete e.tasks[t]})),s(Object(b.a)({},e)),a(),l()},children:"Delete"}),Object(m.jsx)("h3",{onClick:function(){var e=t.groups[i],n=Object(b.a)(Object(b.a)({},e),u);if(C.a.isEqual(e,n))l();else{r();var c=Object(b.a)({},t);c.groups[i]=n,s(Object(b.a)({},c)),a(),l()}},children:"Save"})]})]})]})}function M(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.setEditList,i=e.listID,r=e.groupID,l=e.saveMemento,j=function(){c(!1)},o=function(e,t){x(Object(b.a)(Object(b.a)({},p),{},Object(O.a)({},e,t)))},u=Object(n.useState)(t.lists[i]),v=Object(d.a)(u,2),p=v[0],x=v[1];return Object(m.jsxs)("div",{className:"Edit",children:[Object(m.jsx)("div",{className:"Edit-bg",onClick:j}),Object(m.jsxs)("div",{className:"Edit-main",children:[Object(m.jsxs)("div",{className:"Edit-main-inputs",children:[Object(m.jsxs)("div",{className:"Edit-main-inputs-name",children:[Object(m.jsx)("label",{children:"List Name"}),Object(m.jsx)("input",{type:"text",value:p.name,onChange:function(e){return o("name",e.target.value)}})]}),Object(m.jsxs)("div",{className:"Edit-main-inputs-reset",children:[Object(m.jsx)("label",{children:"Resets"}),Object(m.jsxs)("select",{value:p.reset,onChange:function(e){return o("reset",e.target.value)},children:[Object(m.jsx)("option",{value:"never",children:"Never"}),Object(m.jsx)("option",{value:"day",children:"Daily"}),Object(m.jsx)("option",{value:"week",children:"Weekly"}),Object(m.jsx)("option",{value:"month",children:"Monthly"})]})]})]}),Object(m.jsxs)("div",{className:"Edit-main-buttons",children:[Object(m.jsx)("h3",{onClick:j,children:"Cancel"}),Object(m.jsx)("h3",{className:"Edit-main-buttons-delete",onClick:function(){l();var e=Object(b.a)({},t),n=e.lists[i].taskIDs,c=e.groups[r];c.listIDs.splice(c.listIDs.indexOf(i),1),delete e.lists[i],n.forEach((function(t){delete e.tasks[t]})),s(Object(b.a)({},e)),a(),j()},children:"Delete"}),Object(m.jsx)("h3",{onClick:function(){var e=t.lists[i],n=Object(b.a)(Object(b.a)({},e),p);if(C.a.isEqual(e,n))j();else{l();var c=Object(b.a)({},t);c.lists[i]=n,s(Object(b.a)({},c)),a(),j()}},children:"Save"})]})]})]})}function T(e){var t=e.userState,s=e.setUserState,a=e.saveData,c=e.saveMemento,i=Object(n.useState)(!1),r=Object(d.a)(i,2),l=r[0],j=r[1],o=Object(n.useState)(!1),u=Object(d.a)(o,2),O=u[0],v=u[1],p=Object(n.useState)(!1),x=Object(d.a)(p,2),f=x[0],g=x[1],k=Object(n.useState)(!1),I=Object(d.a)(k,2),E=I[0],C=I[1],T=Object(n.useState)(!1),U=Object(d.a)(T,2),L=U[0],P=U[1],R=Object(n.useState)(""),w=Object(d.a)(R,2),G=w[0],J=w[1],H=Object(n.useState)(""),W=Object(d.a)(H,2),q=W[0],F=W[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a,{onDragEnd:function(e){var n=e.destination,i=e.source,r=e.draggableId,d=e.type;if(n&&(n.droppableId!==i.droppableId||n.index!==i.index)){c();var l=Object(b.a)({},t);switch(d){case"task":l.lists[i.droppableId].taskIDs.splice(i.index,1),l.lists[n.droppableId].taskIDs.splice(n.index,0,r);break;case"list":l.groups[i.droppableId].listIDs.splice(i.index,1),l.groups[n.droppableId].listIDs.splice(n.index,0,r);break;case"group":l.groupIDs.splice(i.index,1),l.groupIDs.splice(n.index,0,r)}s(l),a()}},children:Object(m.jsx)(h.c,{droppableId:"field",direction:"horizontal",type:"group",children:function(e){return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"TaskField"},e.droppableProps),{},{ref:e.innerRef,children:[t.groupIDs.map((function(e,n){return Object(m.jsx)(D,{userState:t,setUserState:s,saveData:a,setSelectedID:J,setEditGroup:j,setAddList:v,setEditList:g,setAddTask:C,setEditTask:P,setSelectedParentID:F,group:t.groups[e],groupIndex:n},e)})),e.placeholder]}))}})}),l&&Object(m.jsx)(y,{userState:t,setUserState:s,saveData:a,setEditGroup:j,saveMemento:c,groupID:G}),O&&Object(m.jsx)(S,{userState:t,setUserState:s,saveData:a,setAddList:v,saveMemento:c,groupID:G}),f&&Object(m.jsx)(M,{userState:t,setUserState:s,saveData:a,setEditList:g,saveMemento:c,groupID:q,listID:G}),E&&Object(m.jsx)(N,{userState:t,setUserState:s,saveData:a,setAddTask:C,saveMemento:c,listID:G}),L&&Object(m.jsx)(A,{userState:t,setUserState:s,saveData:a,setEditTask:P,saveMemento:c,listID:q,taskID:G})]})}var U=s(17),L=s.n(U);function P(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;localStorage.setItem("user",JSON.stringify(e))},t=function(e,t){var s,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var n=s.value;e.tasks[n].done=0}}catch(c){a.e(c)}finally{a.f()}},s=function(){var e=Object(l.a)(v);e.splice(g),e.push(JSON.stringify(r));var t=g+1;p(Object(l.a)(e)),D(t)},c=Object(n.useState)(function(){var s=localStorage.getItem("user"),n=s?JSON.parse(s):{lastLogin:Date.now(),nextID:10,groupIDs:["1","2","3"],groups:{1:{id:"1",name:"Home",listIDs:["4","6"]},2:{id:"2",name:"Outside",listIDs:["5"]},3:{id:"3",name:"Monkey",listIDs:[]}},lists:{4:{id:"4",name:"Daily",reset:a.DAY,taskIDs:["7","8"]},5:{id:"5",name:"Weekly",reset:a.WEEK,taskIDs:[]},6:{id:"6",name:"Hotel?",reset:a.NEVER,taskIDs:["9"]}},tasks:{7:{id:"7",name:"Dishes",done:0,count:1},8:{id:"8",name:"Study",done:5,count:8},9:{id:"9",name:"Trivago.",done:0,count:3}}},c=Date.now(),i=u()(n.lastLogin),r=u()(c),d=i.isSame(r,"month"),l=i.isSame(r,"week"),j=i.isSame(r,"day");for(var o in console.log(i,r),console.log(j,l,d),console.log(i.locale()),n.lists){var b=n.lists[o];("day"===b.reset&&!j||"week"===b.reset&&!l||"month"===b.reset&&!d)&&t(n,b.taskIDs)}return n.lastLogin=c,e(n),n}()),i=Object(d.a)(c,2),r=i[0],o=i[1],b=Object(n.useState)([]),O=Object(d.a)(b,2),v=O[0],p=O[1],h=Object(n.useState)(0),f=Object(d.a)(h,2),g=f[0],D=f[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(x,{userState:r,setUserState:o,saveData:e,mementos:v,setMementos:p,mementoIndex:g,setMementoIndex:D,saveMemento:s}),Object(m.jsx)(T,{userState:r,setUserState:o,saveData:e,saveMemento:s})]})}u.a.extend(L.a),u.a.updateLocale("en",{weekStart:1}),r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root"))},6:function(e,t,s){}},[[38,1,2]]]);
//# sourceMappingURL=main.2ca9a84e.chunk.js.map